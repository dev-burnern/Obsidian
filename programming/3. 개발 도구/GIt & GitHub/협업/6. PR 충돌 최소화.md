충돌을 해결할 수 있다고 하더라도 애초에 충돌이 발생하지 않는게 가장 좋긴 합니다. 충돌 해결에 많은 시간과 비용이 소모되기 때문이죠. 그렇다면 어떻게 하면 충돌을 최소화할 수 있을까요? 적은 시간과 비용으로 충돌을 해결할 수 있는 방법은 무엇일까요?

이 레슨에서는 Pull Reuqest에서 충돌을 최소화하는 방법에 대해서 이야기 해보도록 하겠습니다.

# 최신 코드 유지

최신 코드로 작업하는 것은 충돌을 최소화하는데 매우 중요합니다. 프로젝트를 진행할 때, 보통 하나의 메인 브랜치를 기반으로 새로운 기능을 개발하기 위한 브랜치를 생성합니다.

그러나 개발 기간이 길어질수록 메인 브랜치와 개발 중인 브랜치 간의 차이가 커지며 충돌 가능성도 증가합니다. 이 문제를 해결하기 위한 간단한 방법은 주기적으로 원본 브랜치를 `git merge` 명령어를 써서 작업 중인 브랜치로 가져오는 것입니다. 이 과정은 간단하지만 실무에서는 종종 간과하기 쉬운데요. 동기화를 위한 정기적인 루틴을 만들어두는 것이 중요합니다. 예를 들어, 매일 아침에 동기화를 수행하는 것처럼 말이죠. 이렇게 진행된 프로젝트를 도식화하면 아래와 같습니다. `main` 브랜치와 `feat` 브랜치가 이어지는 곳이 동기화가 진행된 부분이라고 보시면 됩니다.

![29lrshy7y-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6651&version=&directory=29lrshy7y-image.png&name=29lrshy7y-image.png)

# 작은 Pull Request 만들기

작은 규모의 Pull Request를 만드는 것은 충돌을 최소화하는데 도움이 됩니다. 단순하게 생각해서 Pull Request의 규모가 작아지면 변화하는 코드의 양도 적어질 뿐만 아니라 그 코드를 작성하는데 들어가는 시간도 줄어듭니다. 다시 말하면, 원본 브랜치와의 차이가 적다는 것을 의미하고 충돌이 발생하더라도 코드의 일부만 문제가 발생했을 가능성이 높으며, Pull Request를 크게 만들 때보다 해결이 쉬울 것입니다.

다만 작은 규모의 Pull Request를 만드는 것은 개인의 노력으로는 힘든 일이 될 수 있습니다. 이는 소프트웨어 아키텍처와도 밀접한 관계가 있기 때문인데요. 하나의 기능을 작게 만들어 PR을 생성하는 것은 국소적인 변화만으로 기능을 구현할 수 있다는 것을 의미하고, 이는 소프트웨어의 구조가 잘 구성되어 있지 않다면 불가능할 수 있습니다.

# 파일을 작게 만들기

코드의 충돌은 대체로 파일 단위로 발생합니다. 큰 파일은 그만큼 충돌이 발생할 가능성이 높겠죠. 이러한 관점에서 보면, 파일을 작게 만드는 것은 충돌의 가능성을 줄이는 방법이 될 수 있습니다. 작은 파일에서 발생한 충돌을 해결하는 것이 큰 파일의 충돌을 해결하는 것보다 상대적으로 간단할 가능성이 높습니다.

또한 파일을 작게 나눌 경우 의미 없는 충돌을 최소화할 수 있습니다. 예를 들어 한 파일 안에 서로 상관관계가 없는 두 함수가 공존한다고 가정해 봅시다. 이러한 파일에는 앞으로도 서로 관계 없는 함수들이 추가될 가능성이 높습니다. 상관관계가 없는 여러 함수들이 하나의 파일에 모여 있을 때, 두 개의 브랜치에서 파일의 끝부분에 서로 다른 함수를 동시에 추가하는 상황이 발생할 수 있습니다.

이런 상황에서 Git 시스템은 함수의 순서를 결정하지 못해 충돌이 발생하게 됩니다. 이러한 충돌은 로직이 겹치는 것이 아니라 순서 때문에 발생한 것이므로, 실질적인 의미에서의 충돌로 보기 어렵습니다. 이는 해결이 어렵지 않지만 작업의 흐름과 집중력을 방해할 수 있습니다.

파일을 작게 만든다는 것은, 파일을 작은 의미 단위로 나누어 구성한다고도 볼 수 있습니다. 이렇게 파일을 작게 만드는 것만으로 코드의 가독성을 향상시킬 수 있는데요. 하나의 목적을 위한 파일 안에서는, 각각의 코드들 역시 같은 목적을 지닐 것이기 때문이죠. 그러나 작은 Pull Request를 만드는 것과 마찬가지로, 파일을 작게 만드는 것은 소프트웨어의 아키텍처가 잘 구성되어 있지 않은 경우에는 적용하기 어려울 수 있습니다.

# 동료들과 많은 커뮤니케이션 수행하기

프로그램 개발에 있어서 기술적인 능력도 중요하지만, 커뮤니케이션 능력도 중요합니다. 커뮤니케이션 능력은 협업과 프로젝트의 성공을 위해 프로그래머에게 꼭 필요한 덕목입니다.

커뮤니케이션 능력은 입사 면접에서는 쉽게 증명할 수 없기 때문에, 신입 개발자들이나 주니어 개발자들이 간과하는 경향이 있는데요. 하지만 현업 프로젝트에서 많은 시간을 소비하는 문제가 대부분 커뮤니케이션에서 발생합니다.

프로그램 개발은 단순히 기술적인 코딩 작업 이상의 의미를 가지고 있습니다. 프로그램의 아키텍처 디자인, 기획, 그리고 미래의 확장성 등을 고려해야 합니다. 이러한 과정에서 커뮤니케이션은 매우 중요한 역할을 수행합니다. 예를 들어, 같은 기능을 구현하는데 있어서도 단기적인 프로젝트와 장기적인 서비스는 다른 프로그램 구조를 가져야 합니다. 단기 프로젝트는 빠르게 개발하는 것이 중요하며, 구조적인 아키텍처보다는 신속한 진행이 필요합니다. 반면 장기적인 서비스는 기능 추가와 고도화를 위해 확장성을 고려해야 합니다.

프로그램의 방향성을 미리 알고 진행하기 위해서는 많은 커뮤니케이션이 필요합니다. 커뮤니케이션을 통해 개발 과정에서 코드를 작성할 때에도 충돌 가능성을 줄일 수 있습니다. 목적에 따라 인력과 기능을 적절하게 분배하고, 우선 순위에 따라 서로 밀접하지 않은 기능을 먼저 개발하게 된다면 충돌은 자연스럽게 줄어들 것입니다.