대부분의 프로그래밍 언어는 커뮤니티에서 권장하는 코드 작성 스타일이 있습니다. 이러한 스타일에 대한 규칙은 공식 문서로 수십, 혹은 수백 가지의 규칙들이 나열돼 있습니다. 이러한 모든 종류의 규칙들을 개발자들이 모두 외우고 적용하는 것은 매우 어려운 일입니다. 규칙을 모두 외우고 있다고 해서 실수하지 않으리라는 보장이 없죠. 그렇기에 자동으로 규칙 체크를 해주는 툴이 필요한 것입니다.

# 자동으로 규칙 체크하기

개발자들은 자동화를 좋아합니다. 규칙을 외우고 적용하는 불편함을 그냥 보고 넘길 리 없죠. 이 문제점을 해결하기 위해 등장한 것이 바로 Linting입니다. Linting은 소스 코드에서 스타일, 문법, 오류 등이 특정 규칙에 어긋난 것이 없는지 자동으로 체크해 주는 툴인데요. 이러한 Linting 툴을 이용해 개발자들이 작성한 코드가 스타일 가이드를 위반하지 않았는지 자동으로 체크할 수 있습니다. 언어별로 스타일 가이드가 다르기 때문에 사용하는 언어에 따라 Linting 툴들이 맞춰 사용하면 됩니다.

Linting 외에도 또 하나의 유용한 툴이 있는데요. 바로 Formatter입니다. Linting 툴이 작성된 코드의 규칙 위반 여부를 검사만 한다면, Formatter는 Linting에 맞도록 자동으로 코드를 바꿔줍니다. Formatter를 사용하면 자동으로 스타일 가이드에 맞춰서 코드가 변경되기 때문에, 개발자들은 스타일을 고민할 필요 없이 로직에만 집중할 수 있습니다.

# Linting 툴을 사용하면 어떤 효과를 볼 수 있을까?

Linting은 팀 전체에서 동일한 코딩 스타일을 유지할 수 있도록 도와줍니다. 이는 코드 가독성을 높이고, 다른 개발자들이 코드를 이해하기 쉽게 만듭니다. 또한 잠재적인 버그와 오류를 사전에 발견할 수 있도록 도와줍니다. 코드 스타일의 일관성을 유지하면서 실수를 방지하고, 품질 좋은 코드를 작성할 수 있게 해줍니다. 또한 팀원들이 Linting을 사용하면 서로의 코드 리뷰 시간을 단축하는 효과도 있는데요. Linting 규칙을 통해 일관성 있는 코드를 작성하게 되므로, 코드 리뷰어는 스타일 가이드 준수 여부에 집중할 필요 없이 핵심 로직에만 집중할 수 있습니다.

# Git을 사용해 팀원간의 Linting 규칙 통일하기

Linting이 많은 부분을 자동화해 준다고 하더라도 각자 Lint 규칙을 구두로 혹은 문서로 공유하는 것은 여전히 실수를 유발할 수 있습니다. 또한 새로운 팀원이 합류할 때마다 복잡하고 번거로운 작업을 수행해야 하죠.

각 Linting 툴 들은 설정 파일을 지정해서 해당 설정 파일로부터 자동으로 Linting이 설정되게 할 수 있습니다. 이러한 설정 파일을 Git을 통해 공유하면 모두가 손쉽게 Linting을 설정할 수 있습니다.

# 실습

## JavaScript의 경우

자바스크립트에서는 주로 ESLint와 Prettier를 사용합니다. ESLint는 Linter로서, Prettier는 Formatter로서 작동합니다.

### 적용 전

극단적인 예시를 들자면, 아래와 같이 한 줄로 된 JavaScript 코드를 작성했다고 가정해 봅시다.

`const name="John", age=25, message='Happy birthday!';const arr=[1,2,3,4,5];const day='Monday';function greet(name, age) {const message='Hello, ' + name + '. You are ' + age + ' years old.';console.log(message)}if(day=='Monday'){console.log('Today is Monday.');}else if(day=='Tuesday'){console.log('Today is Tuesday.');}else{console.log('Today is not Monday or Tuesday.');}for(let i=0;i<arr.length;i++){console.log(arr[i])}greet(name, age);`

### 적용 후

여기에 Formatter를 적용하면 아래와 같이 변합니다.

`const name = 'John',   age = 25,   message = 'Happy birthday!'; const arr = [1, 2, 3, 4, 5]; const day = 'Monday'; function greet(name, age) {   const message = 'Hello, ' + name + '. You are ' + age + ' years old.';   console.log(message); } if (day == 'Monday') {   console.log('Today is Monday.'); } else if (day == 'Tuesday') {   console.log('Today is Tuesday.'); } else {   console.log('Today is not Monday or Tuesday.'); } for (let i = 0; i < arr.length; i++) {   console.log(arr[i]); } greet(name, age);`

자 이제 시작해 볼까요?

### ESLint

ESLint는 가장 많이 사용되는 JavaScript의 Linting 도구입니다. ESLint는 플러그인을 사용해 React, Vue 등과 같은 프레임워크나 라이브러리에 맞는 특화된 규칙을 추가할 수 있습니다.

프로젝트 루트에 **`.eslintrc`** 파일을 생성하고 ESLint 옵션을 추가할 수 있습니다.

`{   "root": true,   "extends": ["eslint:recommended", "plugin:@typescript-eslint/recommended"],   "ignorePatterns": ["src/**/*.test.ts", "src/frontend/generated/*"] }`

이 설정은 현재 파일이 프로젝트의 최상위(root) 레벨에 있는 ESLint 설정 파일임을 나타내고, ESLint의 기본 규칙인 `"eslint:recommended"`와 TypeScript를 위한 규칙인 `"plugin:@typescript-eslint/recommended"`를 사용하도록 설정합니다. 또한, 테스트와 생성된 파일들을 Linting에서 제외하고 있습니다. 다음 두 명령 중 선택해서 사용할 수 있습니다.

`npx eslint yourfile.js`

`yarn run eslint yourfile.js`

다음 명령어를 통해서 복잡하고, 어려운 설정 내용을 읽지 않고 CLI로 interactive하게 Linting을 설정할수도 있습니다.

`npx eslint --init`

![eyi2j6bum-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6658&version=&directory=eyi2j6bum-image.png&name=eyi2j6bum-image.png)

더 자세한 사항은 [ESLint 공식 문서](https://eslint.org/docs/latest/)에서 확인할 수 있습니다.

VS Code 확장 기능인 [ESLint extention](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)을 통해 조금 더 편하게 사용할 수 있습니다.

### Prettier

Prettier는 코드 포매팅에 초점을 맞춘 도구로서, JavaScript 뿐만 아니라 TypeScript, CSS, HTML 등 다양한 언어를 지원합니다.

프로젝트 루트 하위에 `.prettierrc` 파일에 Prettier 옵션을 추가할 수 있습니다.

`{   "trailingComma": "es5",   "tabWidth": 2,   "semi": true,   "singleQuote": true }`

- `"trailingComma": "es5"`: ES5에서 지원하는 위치에서 코드 뒤에 콤마를 추가합니다.
- `"tabWidth": 2`: 탭의 너비를 2 스페이스로 설정합니다.
- `"semi": true`: 문장 끝에 세미콜론을 사용합니다.
- `"singleQuote": true`: 문자열을 표시할 때 단일 따옴표를 사용합니다.

이와 같이 설정된 Prettier는 지정된 규칙에 따라 코드를 자동으로 정렬합니다.

다음 두 명령 중 선택해서 사용할 수 있습니다.

`npx prettier --write yourfile.js`

`yarn run prettier --write yourfile.js`

더 자세한 사항은 [Prettier 공식 문서](https://prettier.io/docs/en/index.html)에서 확인할 수 있습니다.

해당 플러그인 또한 [Prettier extention](https://marketplace.visualstudio.com/items?itemName=rvest.vs-code-prettier-eslint)을 통해 조금 더 편하게 사용할 수 있습니다.

### ⚠️ 주의하세요

ESLlint와 Prettier는 서로 충돌할 수 있기 때문에 이를 방지할 수 있는 플러그인을 설치해 줘야 합니다. 아래 명령을 실행하여 플러그인을 설치하면, 충돌을 발생시키는 설정을 비활성화할 수 있습니다.

`npm install eslint-config-prettier eslint-plugin-prettier --save-dev`

## Python의 경우

Python에서는 다른 언어에 비해서 매우 다양한 Linting 툴들이 존재합니다. 다른 언어와 달리 Linting 툴이 다양한 이유는 Python의 두 가지 특성 때문인데요. 첫 번째로 동적 타입의 언어이기 때문이고, 두 번째로 사용하는 생태계(서버, 유틸, 머신러닝 등)가 다양하기 때문입니다. 다양한 환경의 개발자들에게 각자에 맞는 유연한 코드 품질 관리와 스타일 적용을 돕기 위함입니다.

Python에서는 Flake8, Black, isort, Pylance 등의 Linter/Formatter들이 있습니다. 각 Linter/Formatter를 설치하려면 다음과 같이 설치 명령을 수행하면 됩니다.

`pip3 install flake8 black isort`

### 적용 전

`from os import * import sys ,math def calculate (val1,val2,operator):   if operator== "+": return val1+val2   elif operator== "-":return val1-val2   elif operator=="*":return val1*val2   elif operator== "/":     if val2!=0:return val1/val2     else:raise ValueError("Cannot divide by zero.") def main():print(calculate(5,3,"+"));print(calculate(10,2,"/")) main()`

### 적용 후

`import math import sys from os import *  def calculate(val1, val2, operator):     if operator == "+":         return val1 + val2     elif operator == "-":         return val1 - val2     elif operator == "*":         return val1 * val2     elif operator == "/":         if val2 != 0:             return val1 / val2         else:             raise ValueError("Cannot divide by zero.")  def main():     print(calculate(5, 3, "+"))     print(calculate(10, 2, "/"))  main()`

### Flake8

Flake8은 Python에서 가장 널리 사용되는 linting 툴 중 하나로, 표준 PEP 8 스타일 가이드에 기반한 코드 포매팅 검사를 제공합니다. 뿐만 아니라 복잡성 검사와 잠재적인 버그를 찾기 위한 논리적인 오류 검사도 수행합니다.

프로젝트의 루트에 아래 `.flake8`설정 파일을 만들어 아래와 같이 설정하면 linting을 수행할 수 있습니다.

`[flake8] ignore = E226,E302,E41 exclude =     __pycache__,     venv, max-line-length = 120`

이 설정 파일은 콤마 다음의 공백 (E226), 함수 시작 부분의 두 줄 개행 (E302), 그리고 클래스 정의 시작 부분의 두 줄 개행 (E41)을 무시하도록 설정합니다. 또한, 라인 길이는 120 문자로 제한하고, `__pycache__` , `venv` 경로의 파일들은 제외합니다.

다음 명령어를 통해 실행할 수 있습니다.

`flake8 src/`

더 자세한 설정과 사용방법은 [Flake8 공식 문서](https://flake8.pycqa.org/)를 통해 확인할 수 있습니다.

### Black

Black은 Python 코드 Formatter로 코드를 PEP 8 스타일 가이드에 따라 자동으로 포매팅합니다.

프로젝트의 루트에 아래 `pyproject.toml`설정 파일을 만들어 아래와 같이 설정하면 linting을 수행할 수 있습니다.

`[tool.black] line-length = 120 exclude = ''' /(   \.venv   | __pycache__ )/ '''`

이 설정 파일은 라인 길이는 120 문자로 제한하고, `__pycache__` , `venv` 경로의 파일들은 제외합니다.

다음 명령어를 통해 실행할 수 있습니다.

`black src/`

더 자세한 설정과 사용 방법은 [Black 공식 문서](https://black.readthedocs.io/en/stable/)를 통해 확인할 수 있습니다.

### isort

Python 파일 내의 import 구문을 정렬해 주는 도구입니다. isort는 코드에서 import 구문을 자동으로 찾아, PEP 8이나 개인의 스타일 설정에 따라 import를 정렬합니다. isort는 import 구문을 각 섹션별로 알파벳 순으로 정렬해 주고, 파이썬 표준 라이브러리 import, third party import, 현재 프로젝트 import를 구분해서 import해 줍니다.

프로젝트의 루트에 아래의 `.isort.cfg` 설정 파일을 추가하여 isort를 설정할 수 있습니다.

`[settings] profile = black force_single_line = true line_length = 120`

이 설정은 Black과 같은 형식으로 import를 sorting하며, import시에 single line으로만 import되게 하고, line의 최대 길이는 120자로 하게 됩니다. 이렇게 Formatter와 함께 사용할 때에는 해당 Formatter와 설정이 충돌나지 않도록 profile을 설정해 주는 것이 좋습니다.

다음 명령어를 통해 실행할 수 있습니다.

`isort src/`

더 자세한 설정과 사용 방법은 [isort 공식 문서](https://pycqa.github.io/isort/)를 통해 확인할 수 있습니다.