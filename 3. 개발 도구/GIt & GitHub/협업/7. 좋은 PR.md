이전 레슨에서 Pull Request의 충돌을 최소화하는 방법에 대해서 이야기 했습니다. 이번 레슨은 이전 레슨과 매우 관련이 깊은데요. 충돌이 없는 Pull Request는 좋은 Pull Request를 만드는 것의 큰 부분을 차지하기 때문입니다. 그래서 충돌과 관련된 내용이 반복되지만 그만큼 중요한 내용으로 봐 주시면 좋겠습니다.

이제부터 좋은 Pull Request란 무엇이고, 이러한 Pull Request를 어떻게 만들 수 있는지 실습과 함께 다뤄보도록하겠습니다.

# 좋은 Pull Request란?

좋은 Pull Request란 무엇일까요? 명확한 정의나 표준을 제시하기는 어렵지만, 개발자 커뮤니티에는 일반적으로 이해하기 쉽고 명확한 PR을 좋은 PR이라고 생각합니다. 즉 PR은 목적과 변경 사항, 그리고 그것이 어떻게 프로젝트에 영향을 미치는지를 잘 이해할 수 있어야 합니다. PR을 읽는 사람, 즉 리뷰어가 편하게 PR을 보며 리뷰를 할 수 있어야 하죠.

지금부터 어떻게 좋은 PR을 만들 수 있는지 다뤄보도록 하겠습니다.

## Communication

협업에서 가장 중요한 요소는 바로 커뮤니케이션입니다. PR에서 효과적인 커뮤니케이션은 무엇을 변경하려고 하는지, 왜 그렇게 하려고 하는지, 그리고 그것이 어떤 영향을 미칠 것인지를 명확히 전달하는 것인데요. 이렇게 전달하려고 하는 내용이 명확한 PR은 검토하는 프로세스를 원활하게 만듭니다. 또한, 이는 리뷰어가 PR을 이해하는데 필요한 시간을 줄이고, 피드백을 더 빠르게 제공하도록 돕습니다.

자 다음과 같은 PR이 있다고 가정해 보겠습니다.

![gf17r67ns-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6652&version=&directory=gf17r67ns-image.png&name=gf17r67ns-image.png)

PR의 제목은 물론이거니와, 그 내용 조차도 어떤 버그를 수정했는지 알기 쉽지 않습니다. 반면 다음은 어떨까요?

![w0108c4ge-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6652&version=&directory=w0108c4ge-image.png&name=w0108c4ge-image.png)

코드를 보지 않았는데도 어떤 버그가 발생했었는지 한눈에 알 수 있겠죠? 코드를 리뷰하는 사람은 해당 PR을 어떤 이유로 수정하려고 하는지 한눈에 파악할 수 있습니다.

PR에는 필요에 따라 스크린샷을 포함하거나, 복잡한 문제를 해결하는 경우에는 해결 방법을 상세히 설명해야 할 수도 있습니다. 필요하다면 외부 문서의 link(Notion, 논문 등)를 달거나 이와 관련해 논의했던 Slack thread 등을 링크하는 것도 좋은 방법 중 하나 입니다. 또한 어떻게 PR을 읽으면 좋을지 리뷰어에게 가이드를 줄 수도 있죠.

![jcmrgdi80-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6652&version=&directory=jcmrgdi80-image.png&name=jcmrgdi80-image.png)

## Pull Request를 작게 만들기

PR을 작게 만들면 리뷰 하는데 걸리는 시간을 줄일 수 있고, 리뷰어가 PR의 의도에 더 집중할 수 있습니다. PR을 작게 만드는 몇 가지 원칙을 제시해 드릴게요.

- **하나의 PR은 하나의 문제를 해결해야 합니다.** 이는 코드의 목적을 명확히 하며, 리뷰어에게 어떤 변경 사항에 주의를 기울여야 하는지 가이드를 제공합니다. 또한, 이를 통해 PR의 범위를 제한하면서 코드 관리의 효율성을 높일 수도 있습니다.
- **PR은 하루 안에 끝낼 수 있는 크기로 만들어야 합니다.** 대략 8시간 내에 완료할 수 있는 작업을 PR로 구성하는 것이 이상적입니다. 이는 PR의 복잡성을 줄이며, 리뷰 과정을 간결하게 만듭니다. 적절한 크기의 PR은 리뷰어가 집중력을 유지하고, 코드 이해를 촉진하며, 효과적인 피드백을 이끌어 내는 데 유리합니다.
- **커밋을 활용해 논리적 그룹을 만들어야 합니다.** 작은 PR들이 모여 한 덩어리의 기능을 하는 경우가 많은데요. 커밋을 활용하면, 이런 경우를 효과적으로 관리할 수 있습니다. 이렇게 하면 리뷰어는 작은 PR들로 각 기능들을 이해하기 쉽고, 커밋으로 이뤄진 논리적 그룹을 통해 전체 코드에서 어떤 역할을 하는지 파악하기도 쉽습니다.

개발자들 사이에는 '50줄의 PR에는 50개의 리뷰가 달리지만, 500줄의 PR에는 그저 "LGTM(Look Good To Me, 좋아보인다)"만 달린다'라는 격언이 있습니다. 이것은 대규모 PR이 종종 충분히 주의 깊게 리뷰되지 않는다는 점을 지적한 것입니다.

## 코드 스타일을 깔끔하게 유지하기

코드의 스타일은 이해력과 가독성에 직접적인 영향을 미치며, 이는 효율적인 코드 리뷰와 팀의 생산성에 결정적입니다. 깔끔한 코드 스타일은 코드의 일관성을 증가시키고, 새로운 개발자가 프로젝트에 빠르게 적응하도록 돕습니다.

개발자 커뮤니티에서는 여러 코드의 스타일 가이드를 제공하고 있습니다. 스타일 가이드들은 변수명, 함수명, 들여쓰기, 공백, 주석 작성 등의 측면에서 어떻게 코드를 구조화하고 문서화해야 하는지에 대한 기준을 제시합니다. 각 프로그래밍 언어나 프레임워크마다 고유한 스타일 가이드가 존재하며, 이를 준수하면 코드의 일관성과 품질을 높일 수 있습니다.

하지만 스타일 가이드를 단순히 맹목적으로 따라서는 안되는데요. 일정/시기/팀 내 합의 등의 여러 상황에 따라 가이드를 적절히 변형하여 사용해야 합니다. 이러한 가이드라인을 지키는 것은 어렵습니다. 따라서 깔끔한 코드 스타일을 유지하기 위해서는 일관성 있는 코드 리뷰가 필수적입니다. 리뷰 과정에서 코드 스타일 가이드라인이 지켜졌는지 확인하고, 피드백을 주고 받는 것이 좋습니다.

코드 스타일 중 일부는 자동화를 통해서 코드 스타일을 유지하는 방법도 있는데요. 이 내용은 ‘챕터 3의 [자동으로 Style 맞추기: Linting] 레슨에서 더 자세히 다루도록 하겠습니다.

## **작성한 코드를 테스트하기**

코드를 작성하고 PR을 만들기 전에 반드시 코드가 제대로 작동하는지 테스트해야 합니다. 이는 코드의 안정성을 보장하고, PR을 리뷰하는 과정에서 발생할 수 있는 문제를 미리 해결하는데 큰 도움이 됩니다.

코드를 테스트하는 방법은 여러 가지가 있습니다. 단위 테스트를 작성하여 코드의 개별 부분이 의도한 대로 작동하는지 확인할 수 있습니다. 통합 테스트를 통해 여러 코드 조각이 서로 잘 작동하는지 검증할 수 있습니다. 또한, 수동 테스트를 통해 사용자 경험이 예상대로 흘러가는지 점검할 수 있습니다.

테스트가 성공적으로 수행되면, 그 결과를 PR에 명시적으로 표시하는 것이 좋습니다. 이는 리뷰어에게 신뢰감을 제공하며, 리뷰 과정을 간소화하는데 도움이 됩니다. 실패한 테스트가 있다면 해당 테스트를 만족할 수 있도록 수정하고 PR을 올리는 것이 좋습니다. 하지만 때에 따라서 해결이 불가능하다면 PR에 이에 대한 내용을 담아 동료들의 의견을 묻는 것도 좋은 방법입니다. 이러한 내용이 쌓인다면 여러분들의 커리어와 성장에 큰 도움이 될 것입니다.