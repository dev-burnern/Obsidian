# GitHub의 코드 리뷰 기본 UI

동료가 Pull Request를 올리고 여러분들에게 리뷰를 요청했다고 가정하겠습니다. 그럼 먼저 Pull Request페이지에 들어가서 아래 화면의 1번, Files changed를 클릭하면 아래와 같은 UI 를 확인할 수 있습니다. GitHub는 UI가 빠르게 변하기 때문에 조금 다르게 보일 수도 있는데요. 기능 자체는 크게 달라지지 않을 거예요.

![7l0ph15kd-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6656&version=&directory=7l0ph15kd-image.png&name=7l0ph15kd-image.png)

위 화면에서 2번으로 표시된 빨간색 박스가 파일의 변경 사항들을 보여 주는 곳입니다. 그리고 중앙에 있는 내용들은 파일의 변경된 코드들을 보여 줍니다. 빨간색은 삭제된 코드를 의미하고 녹색은 추가된 코드를 의미합니다.

자 이제부터 코드 리뷰를 진행해보도록 하겠습니다.

# 라인 별로 코드 리뷰하기

가장 먼저 라인별 코드 리뷰를 진행해보겠습니다. 동료가 작성한 코드가 아래와 갔다고 해볼게요.

![zn1e30fc0-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6656&version=&directory=zn1e30fc0-image.png&name=zn1e30fc0-image.png)

테스트 중이 아닌데 테스트라고 적어놨나 보군요. 좌측에 있는 라인 번호의 오른쪽에 마우스 커서를 올리면 위처럼 코멘트를 달 수 있는 창이 나옵니다.

여기서 다양한 코멘트를 달 수 있습니다. 저희는 간단하게 `테스트가 아닙니다.`라고 변경하는게 어떻냐고 코멘트를 달 수 있을 것 같습니다.

이럴 때 사용하는 기능이 바로 suggested change입니다. 이 기능은 중앙에 빨간 박스 아이콘을 클릭하면 자동으로 변경 사항을 제안할 수 있도록 GitHub에서 편의기능을 만들어 주었습니다. 수정하고 싶은 내용을 ` ```suggestion ` 아래에 작성하시면 됩니다.

자, 그럼 이것이 어떻게 표시될지 Preview를 클릭해서 확인해 보도록 합시다.

![qnw5sm2bw-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6656&version=&directory=qnw5sm2bw-image.png&name=qnw5sm2bw-image.png)

원래 변경사항은 어땠고, 제안한 사항은 어떤지 쉽게 볼 수 있도록 표시가 됩니다.

이제 리뷰를 제출해볼까요? 리뷰를 제출하는 방법에는 크게 2가지가 있습니다. `Add single comment` 와 `Start a review` 버튼입니다.

- Add single comment
    - 이 버튼을 누르게 되면 즉시 다른 개발자들이 볼 수 있도록 코멘트 형태로 리뷰가 남게 됩니다.
- Start a review
    - 이 버튼을 누르게 되면 작성한 코멘트가 Pending 상태가 되고 리뷰가 모두 완료되었을 때 한꺼번에 제출 할 수 있습니다.

이번에는 Start a review 버튼을 눌러보도록 하겠습니다.

![2t0q4n5ji-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6656&version=&directory=2t0q4n5ji-image.png&name=2t0q4n5ji-image.png)

그럼 이와 같이 Pending 상태가 된 것을 확인해 볼 수 있습니다. 이 상태일때는 다른 개발자들에게 Review가 보이지 않습니다.

코드를 보다가 리뷰를 철회하거나, 추가할 것이 있다면 다른 개발자들에게 보내기 전에 수정할 수 있습니다.

![aw97jrcp6-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6656&version=&directory=aw97jrcp6-image.png&name=aw97jrcp6-image.png)

이렇게 남긴 Comment들은 Pull Request의 메인 화면에 위처럼 표시되게 됩니다. 메인 화면에서는 Commit을 포함해서 이와 같은 Comment들이 시간 순서대로 정렬되어 올라오게 됩니다.

# 멀티라인 코드 리뷰하기

때에 따라서 여러 줄의 코드를 수정하고 싶을 수도 있는데요. 이때 사용하는 기능이 멀티라인 코멘트 기능을 사용하면 됩니다.

먼저 시작하는 라인 번호의 좌측을 클릭하게되면 노란색으로 해당 라인이 표시가 됩니다. 이 때, 쉬프트를 누르고 다른 라인의 좌측을 클릭하면 아래처럼 노란색으로 범위를 선택할 수 있게 됩니다.

이 상태로 노란색 라인의 우측에 커서를 올리면 이전처럼 + 버튼이 활성화되는데 이 버튼을 클릭하면 코멘트를 달 수 있습니다.

![hxw2cc1wq-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6656&version=&directory=hxw2cc1wq-image.png&name=hxw2cc1wq-image.png)

![tvqi0id8o-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6656&version=&directory=tvqi0id8o-image.png&name=tvqi0id8o-image.png)

꿀팁: 참고로 `#`을 쓰면 다른 Pull Request를 검색하고 언급할 수 있습니다. 다른 PR과 연관이 있다면 이런식으로 리뷰를 남기는 것도 좋습니다.

# 이미 본 파일은 Viewed로 체크하기

파일이 한두개일 때는 상관 없지만 수개에서 수십개의 파일이 변경된다면 어떤 파일을 리뷰했는지 파악하기가 어렵습니다.

특히 한번 리뷰하고 난 후에 수정 사항을 반영해서 다시 리뷰 요청을 날렸을 때 변경된 파일만이 아닌 모든 파일을 다시 봐야 한다면 정말 절망 스럽겠죠? 이를 해결해줄 수 있는 기능이 Viewed 기능입니다.

아래처럼 Viewed 체크박스를 클릭하면 파일의 변경 사항이 접히게 됩니다. 다음 새로운 커밋에서 해당 파일이 변경되지 않았다면 여전히 Viewed 버튼이 클릭된 채로 코드가 접혀 있을 것입니다. 또한 여러분들이 코드를 하나하나 읽고 Viewed를 체크한다면 우측 하단에 파란색 바가 점점 더 차오를 것입니다.

![kfo1sjeup-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6656&version=&directory=kfo1sjeup-image.png&name=kfo1sjeup-image.png)

# 커밋별로 리뷰하기

이전 [[좋은 Pull Request란?]](https://www.codeit.kr/topics/collaborating-with-git/lessons/6652) 레슨에서 다룬 것처럼 하나의 Pull Request가 너무 크다면 커밋을 하나의 논리 단위로 분할해서 올리라는 내용이 있었는데요. 만약 여러분들이 이 조언에 맞게 커밋을 올렸다면 커밋 단위로 리뷰를 하는 것도 좋은 방법입니다. GitHub도 이 방식을 정식 기능으로 지원하는데요. 바로 좌측 상단에 있는 커밋별 보기 기능입니다.

![02ezl3qej-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6656&version=&directory=02ezl3qej-image.png&name=02ezl3qej-image.png)

여기서 특정 커밋을 클릭하게 되면 해당 커밋의 변경 사항만 확인할 수 있습니다. 여기서는 prev/next 버튼을 통해 이전, 다음 커밋으로 이동할 수 있습니다. 시간 순서대로 커밋을 확인하면서 논리적으로 어떻게 코드가 짜여졌는지 확인할 수 있습니다.

![8ovdv9tk1-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6656&version=&directory=8ovdv9tk1-image.png&name=8ovdv9tk1-image.png) 물론 단 하나의 커밋이 아닌 연속된 여러개의 커밋을 확인하고 싶을 수도 있는데요. 멀티라인을 선택했던 것처럼 커밋들의 리스트 창에서 `shift`키를 누른 채 보고 싶은 범위의 커밋을 선택하면 연속된 커밋들의 변경 사항을 한꺼번에 확인할 수 있습니다.

# 리뷰 제출하기

자, 이제 UI 설명이 끝났습니다. 마지막으로 리뷰를 제출해 보죠. 창의 우측 상단에 Review changes 버튼을 클릭하면 아래와 같은 창이 나옵니다. 여기서 쓰고 싶은 내용을 쓰고 Comment, Approve, Request changes 중 하나를 선택할 수 있습니다.

![9xuc5xvqu-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6656&version=&directory=9xuc5xvqu-image.png&name=9xuc5xvqu-image.png)

## Comment

Comment는 코드 리뷰 중 개선점, 의문점, 제안 등을 남기기 위해 사용됩니다. 여러분들은 Comment를 통해 개선 사항을 제시하거나 의문 사항을 제기할 수 있으며, 코드 작성자는 이를 확인하고 반영할 수 있습니다.

## Approve

여러분들은 Approve를 통해 코드가 문제없다는 의견을 코드 작성자에게 보낼 수 있습니다. 만약 여러분들이 Branch protection rule로 Approve를 필수로 만들어 두었다면 Approve를 받지 못하면 코드 작성자는 `main` 브랜치에 병합하지 못할 수 있습니다. 이 경우가 Approve 기능이 진정한 의미에서 승인의 역할을 할 수 있습니다.

## Request changes

Request changes는 코드 리뷰를 통해 개선이 필요하거나 수정이 요구되는 사항이 있을 때 사용됩니다. 리뷰어는 코드에 문제점이나 개선 사항이 있는 경우 Request changes를 통해 수정을 요청하고 작성자에게 피드백을 전달합니다. 만약 리뷰어가 Approve를 주지 않았다면 머지할 수 없기 때문에 코드 작성자는 이런 리뷰를 반영해서 새로운 커밋을 올릴 것입니다. 그때 리뷰어인 여러분들은 해당 커밋을 다시 리뷰하고 적절하게 코드가 수정 됐다면 Approve를 통해 코드 머지를 승인할 수 있습니다.