이전 레슨에서 GitHub에서 커밋별로 리뷰할 수 있다는 사실을 배웠는데요. Pull Request를 사용한다고 해도 좋은 커밋을 만드는 것은 매우 중요합니다. 이제부터 좋은 커밋을 만드는 방법에 대해서 간단히 짚고 넘어가도록 하겠습니다.

Pull Request와 마찬가지로 좋은 커밋도 이해하기 쉽고 명확해야 합니다. 하지만 커밋은 Pull Request에 비해 더 작은 개념입니다. Pull Request와 커밋은 마치 코드잇의 강의 구성처럼 챕터와 레슨 간의 관계라고 생각하면 좋습니다. Pull Request로 변경점들을 포함하는 큰 단위의 목적을 명시하고, 이를 커밋으로 채우는 것이죠.

Pull Request의 메인 UI에서는 해당 브랜치에 커밋된 커밋 리스트가 다음과 같이 표시됩니다. 커밋 메시지를 잘 작성하는 것은 또 다른 문서화가 될 수 있습니다.

![z6ywdrza5-image.png](https://bakey-api.codeit.kr/api/files/resource?root=static&seqId=6657&version=&directory=z6ywdrza5-image.png&name=z6ywdrza5-image.png)

# 좋은 커밋이란?

## 의미 있는 단위의 작업해야 할 것

한 개의 커밋이 하나의 기능이나 작업을 완성해야 좋은 커밋입니다. 작업의 크기는 작게 유지하는 것이 좋지만, 그렇다고 너무 작은 단위로 커밋하는 것은 다량의 커밋만 생성할 뿐 좋은 커밋이라고 할 수 없습니다.

여기서 의미 있는 단위라는 것이 다소 추상적인데요. 간단히 예를 들면 함수나 메소드, 클래스도 의미있는 단위가 될 수 있고, 또는 인터페이스들 간의 연결 관계 등을 정의하는 것도 하나의 의미 있는 단위가 될 수 있습니다.

이 의미있는 단위는 조직에서 정해 주는 경우도 있고, 암묵적인 합의로 존재하는 경우도 있는데요. 어떤 경우든지, 동료들이 사용하는 단위를 크게 벗어나지 않게 작업하는 것을 권장합니다.

## 생성된 커밋은 동작이 가능한 형태여야 할 것

커밋을 생성할 때는 생성한 커밋이 정상적으로 동작하는지 검증해야 합니다. 검증할 때는 개별 커밋의 동작 뿐만 아니라, 프로젝트 전체의 동작을 방해하지 않는지도 함께 봐야 하죠. 이런 검증 작업은 자동화하기도 합니다.

모든 모듈이나 기능에 대해 자동화된 테스트를 작성하는 것이 불가능할 때도 있는데요. 특히 복잡한 기능이나 구조상의 이유로 자동화 테스트를 수행하기 어려울 경우, 수동 테스트를 통해 커밋의 동작을 검증해야 합니다.

## 커밋 메시지는 명확하고 간결하게 작성되어야 할 것

커밋 메시지는 코드 변경 사항을 빠르게 파악하는데 중요한 역할을 합니다. 작업의 히스토리를 이해하는 데 큰 도움을 주며, 문제가 발생했을 때 원인을 찾는 데도 도움이 됩니다. 따라서 커밋 메시지는 그 자체로도 커밋의 의미를 명확하게 전달해야 합니다. 이를 위해 `Conventional Commit`이라는 커밋 메시지 규칙이 생겼습니다.

이 규칙에서 커밋 메시지는 **`<type>(<scope>): <subject>`**의 형식을 따르게 됩니다. 여기서 **`type`**은 커밋의 종류를, **`scope`**는 커밋이 영향을 미치는 범위를 나타내고 **`subject`**에는 커밋의 간략한 설명을 적습니다.

예를 들어, 새로운 기능을 추가했다면 **`feat(UserProfile): Add email verification`**과 같이 작성할 수 있습니다. 이는 'UserProfile' 영역에 '이메일 확인' 기능을 추가했다는 것을 명확하게 알립니다. 일반적으로 커밋의 subject는 명령형/동사로 시작하는 것이 일반적입니다. 이러한 방식으로 커밋 메시지를 작성하면, 다른 개발자들이 변경 사항을 빠르고 쉽게 이해할 수 있습니다.

다음은 자주 사용하는 type입니다.

| type  | 설명                                |
| ----- | --------------------------------- |
| feat  | 기능 개발과 관련                         |
| docs  | 주석/ReadMe 등 문서화 관련                |
| test  | 테스트 관련                            |
| fix   | 버그나 typo 등을 수정 사항 관련              |
| chore | 코드와 관련이 없는 내용들을 수정할 때 (License 등) |
| ci    | CI/CD 등과 관련한 작업을 수행할 때            |

추가로 `Conventional Commit`을 사용할 경우 커밋 메시지의 원하는 부분을 추출해서 자동으로 문서화할 수 있습니다. 예를 들자면 feat type을 가진 커밋 메시지를 모아서 Release Note 등을 자동으로 생성할 수 있습니다.

# 정리

`Conventional Commit`은 엄격한 형태의 규칙은 아닙니다. 꼭 이 규칙을 따를 필요도 없습니다. 예를 들면 `[FEAT] Add email verification for User Profile`처럼 변형해서 사용할 수도 있습니다. 또한 대부분의 예시가 영어로 작성되어 있지만, 꼭 영어로만 작성할 필요는 없습니다. `[Feat] User Profile에 이메일 인증 기능 추가`와 같이 한글로 작성해도 됩니다. 이는 일종의 가이드 라인과 같은 것이기 때문에 팀, 조직 등에서 편리한 방법으로 적용해서 사용하면 됩니다. 이러한 규칙들을 일종의 기준으로 삼고 이를 기반으로 팀내 조직 문화를 만드는 것이 좋습니다. 규칙에 매몰되지 않고 생산성을 높일 수 있는 방법으로 팀 내 조직 문화를 만드세요.