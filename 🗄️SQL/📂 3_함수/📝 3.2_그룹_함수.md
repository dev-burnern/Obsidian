# ğŸ“Š ê·¸ë£¹ í•¨ìˆ˜

## ğŸ“‘ ëª©ì°¨
- [[#ğŸ“š ê·¸ë£¹í•¨ìˆ˜ì˜ ê°œë…]]
- [[#ğŸ“ˆ ê·¸ë£¹í•¨ìˆ˜ì˜ ì¢…ë¥˜]]
- [[#ğŸ“Š GROUP BY ì ˆ]]
- [[#ğŸ” HAVING ì ˆ]]
- [[#ğŸ”„ GROUP BY ì¶”ê°€ ì—°ì‚°ì]]

## ğŸ“š ê·¸ë£¹í•¨ìˆ˜ì˜ ê°œë…
### ğŸ” ì´ë¡ 
- **ê·¸ë£¹ í•¨ìˆ˜**: í–‰ ì§‘í•©ì— ì‘ìš©í•˜ì—¬ ê·¸ë£¹ë‹¹ í•˜ë‚˜ì˜ ê²°ê³¼ë¥¼ ìƒì„±
- í–‰ ì§‘í•©ì€ í…Œì´ë¸” ì „ì²´ í˜¹ì€ WHERE ì ˆ ì¡°ê±´ì— ì˜í•´ ì„ íƒëœ í–‰ë“¤ì´ í•˜ë‚˜ì˜ ê·¸ë£¹
- ê·¸ë£¹ í•¨ìˆ˜ì˜ ê²°ê³¼ëŠ” í•­ìƒ ë‹¨ì¼ í–‰

- **êµ¬ë¬¸**:
```sql
SELECT group_function(column), ...  
FROM table  
[ WHERE ì¡°ê±´(s) ];
```
## ğŸ“ˆ ê·¸ë£¹í•¨ìˆ˜ì˜ ì¢…ë¥˜
### ğŸ” ì´ë¡ 
- **COUNT**: í–‰ì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜
  - **COUNT(*)**: NULL ê°’ì´ ìˆëŠ” í–‰ ë° ì¤‘ë³µ í–‰ì„ í¬í•¨í•˜ì—¬ í–‰ ìˆ˜ ë°˜í™˜
  - **COUNT(expr)**: ì—´ì— NULLì´ ì•„ë‹Œ í–‰ ìˆ˜ ë°˜í™˜
  - **COUNT(DISTINCT expr)**: ì¤‘ë³µë˜ì§€ ì•ŠëŠ” NULLì´ ì•„ë‹Œ ê°’ì˜ ìˆ˜ ë°˜í™˜

- **SUM**: ìˆ«ì ë°ì´í„°ì˜ í•©ê³„ ê³„ì‚°
- **AVG**: ìˆ«ì ë°ì´í„°ì˜ í‰ê·  ê³„ì‚°
- **MIN**: ìµœì†Œê°’ ë°˜í™˜(ëª¨ë“  ë°ì´í„° íƒ€ì… ê°€ëŠ¥)
- **MAX**: ìµœëŒ€ê°’ ë°˜í™˜(ëª¨ë“  ë°ì´í„° íƒ€ì… ê°€ëŠ¥)

- **ê·¸ë£¹ í•¨ìˆ˜ì™€ NULL ê°’**:
  - COUNT(*)ë¥¼ ì œì™¸í•œ ê·¸ë£¹í•¨ìˆ˜ëŠ” NULL ê°’ì„ ì œì™¸
  - NULL ê°’ì„ í¬í•¨í•˜ë ¤ë©´ NVL í•¨ìˆ˜ ì‚¬ìš©(ì˜ˆ: AVG(NVL(comm, 0)))

### ğŸ’» ì˜ˆì œ
```sql
-- ê¸°ë³¸ ê·¸ë£¹ í•¨ìˆ˜  
SELECT SUM(salary), AVG(salary), MAX(salary), MIN(SALARY)  
FROM y_emp;

-- ë‚ ì§œì— ì ìš©  
SELECT MIN(hiredate), MAX(hiredate)  
FROM y_emp;

-- COUNT í•¨ìˆ˜  
SELECT COUNT(*), COUNT(dept_id), COUNT(DISTINCT dept_id)  
FROM y_emp;

-- NULL ê°’ ì²˜ë¦¬  
SELECT AVG(NVL(comm,0)), AVG(comm)  
FROM y_emp;
```
## ğŸ“Š GROUP BY ì ˆ
### ğŸ” ì´ë¡ 
- GROUP BY ì ˆì„ ì¶”ê°€í•˜ì—¬ ì„ íƒëœ í–‰ì„ ì„œë¸Œê·¸ë£¹ìœ¼ë¡œ ë‚˜ëˆˆ í›„ ì§‘ê³„ì •ë³´ ì‚°ì¶œ
- GROUP BY ì ˆì—ëŠ” ì„œë¸Œê·¸ë£¹ì˜ ê¸°ì¤€ ì—´ ì´ë¦„ì„ ëª…ì‹œ

- **êµ¬ë¬¸**:
```sql
SELECT column, group_function(column), ...  
FROM table  
[ WHERE ì¡°ê±´(s) ]  
GROUP BY group_by_í‘œí˜„ì‹  
[ORDER BY column];
```

- **ì‚¬ìš©ë²•**:
  - FROM ì ˆ ë‹¤ìŒì— GROUP BY ì ˆì„ ëª…ì‹œ
  - ì„œë¸Œê·¸ë£¹ ìƒì„± ì „ì— ì œì™¸í•  í–‰ì´ ìˆë‹¤ë©´ WHERE ì ˆì— ì§€ì •
  - GROUP BY ì ˆì— ì§€ì •ëœ ì—´ ì´ë¦„ë§Œ SELECT ì ˆì— ì§€ì • ê°€ëŠ¥
  - ì—¬ëŸ¬ ì—´ì„ ê¸°ì¤€ìœ¼ë¡œ ì„œë¸Œê·¸ë£¹ ìƒì„± ê°€ëŠ¥

### ğŸ’» ì˜ˆì œ
```sql
-- ë¶€ì„œë³„ ê¸‰ì—¬ í•©ê³„ì™€ í‰ê·   
SELECT dept_id, SUM(salary), AVG(salary)  
FROM y_emp  
GROUP BY dept_id;

-- ë¶€ì„œë³„, ì§ê¸‰ë³„ í‰ê· ê¸‰ì—¬  
SELECT dept_id, position, SUM(salary)  
FROM y_emp  
GROUP BY dept_id, position  
ORDER BY dept_id;
```

## ğŸ” HAVING ì ˆ
### ğŸ” ì´ë¡ 
- HAVING ì ˆ: ê·¸ë£¹í™”ëœ ê²°ê³¼ë¥¼ ì œí•œí•˜ê¸° ìœ„í•´ ì‚¬ìš©
- WHERE ì ˆì€ ê°œë³„ í–‰ì„ ì œí•œ, HAVING ì ˆì€ ê·¸ë£¹ì„ ì œí•œ

- **êµ¬ë¬¸**:
```sql
SELECT column, group_function(column), ...  
FROM table  
[ WHERE ì¡°ê±´(s) ]  
GROUP BY group_by_í‘œí˜„ì‹  
HAVING group_ì¡°ê±´  
[ORDER BY column];
```

- **ê·¸ë£¹ í•¨ìˆ˜ì˜ ì¤‘ì²©**:
  - ê·¸ë£¹ í•¨ìˆ˜ë¼ë¦¬ ì¤‘ì²©ì€ ë‘ ë²ˆê¹Œì§€ë§Œ ê°€ëŠ¥
  - ì¤‘ì²© ì‚¬ìš© ì‹œ SELECT ì ˆì— ë‹¤ë¥¸ ì—´ ì´ë¦„ ì‚¬ìš© ë¶ˆê°€

### ğŸ’» ì˜ˆì œ
```sql
-- HAVING ì ˆ ì‚¬ìš©  
SELECT dept_id, MAX(salary), MIN(salary)  
FROM y_emp  
GROUP BY dept_id  
HAVING AVG(salary) > 600;

-- ê·¸ë£¹ í•¨ìˆ˜ ì¤‘ì²©  
SELECT MAX(COUNT(_)), MIN(COUNT(_))  
FROM y_emp  
GROUP BY dept_id;
```

## ğŸ”„ GROUP BY ì¶”ê°€ ì—°ì‚°ì
### ğŸ” ì´ë¡ 
- **ROLLUP ì—°ì‚°ì**:
  - ì •ê·œ GROUP BYì— ì˜í•œ ê·¸ë£¹í™” í–‰ê³¼ í•˜ìœ„ ì´ê³„(ì¤‘ê°„ì†Œê³„) í¬í•¨
  - GROUP BY ì ˆì— ì§€ì •ëœ ê·¸ë£¹í™” ëª©ë¡ì— ë”°ë¼ ê°€ì¥ í•˜ìœ„ ë ˆë²¨ë¶€í„° ìµœìƒìœ„ ì´ê³„ê¹Œì§€ ê³„ì‚°
  - ì—‘ì…€ì˜ ë¶€ë¶„í•© ê¸°ëŠ¥ê³¼ ìœ ì‚¬

- **CUBE ì—°ì‚°ì**:
  - GROUP BY ì ˆì— ì§€ì •ëœ ëª¨ë“  ê·¸ë£¹ ì¡°í•©ì— ëŒ€í•´ í•˜ìœ„ ì´ê³„ì™€ ìµœìƒìœ„ ì´ê³„ ëª¨ë‘ ì‚°ì¶œ
  - êµì°¨ í‘œ í˜•ì‹ ë³´ê³ ì„œì— ì‚¬ìš©ë˜ëŠ” ê²°ê³¼ ì§‘í•© ì‚°ì¶œ

- **GROUPING SETS ì—°ì‚°ì**:
  - í•˜ë‚˜ì˜ ì¿¼ë¦¬ì—ì„œ ì—¬ëŸ¬ ê·¸ë£¹í™” ì§€ì •
  - ROLLUPì´ë‚˜ CUBEì—ì„œ íŠ¹ì • ê·¸ë£¹í™”ë§Œ ì„ íƒì ìœ¼ë¡œ ì§€ì •

- **GROUPING í•¨ìˆ˜**:
  - ê²°ê³¼ë¡œ 0 ë˜ëŠ” 1 ë°˜í™˜
  - 0: í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ì—¬ ì§‘ê³„, NULLì€ ì‹¤ì œ ë°ì´í„°ì˜ NULL
  - 1: í‘œí˜„ì‹ ë¯¸ì‚¬ìš©, NULLì€ ROLLUP ë˜ëŠ” CUBEì— ì˜í•œ ê²°ê³¼

- **ì¡°í•© ì—´**:
  - ê·¸ë£¹ì„ ê³„ì‚°í•˜ëŠ” ë™ì•ˆ í•œ ë‹¨ìœ„ë¡œ ì²˜ë¦¬ë˜ëŠ” ì—´ì˜ ëª¨ìŒ
  - ê´„í˜¸ ì•ˆì— ì—´ì„ ì§€ì •(ì˜ˆ: ROLLUP(a, (b, c), d))

### ğŸ’» ì˜ˆì œ
```sql
-- ROLLUP ì—°ì‚°ì  
SELECT dept_id, position, SUM(salary)  
FROM y_emp  
WHERE dept_id > 200  
GROUP BY ROLLUP (dept_id, position);

-- CUBE ì—°ì‚°ì  
SELECT dept_id, position, SUM(salary)  
FROM y_emp  
WHERE dept_id > 200  
GROUP BY CUBE (dept_id, position);

-- GROUPING SETS  
SELECT dept_id, position, gender, COUNT(*)  
FROM y_emp  
GROUP BY GROUPING SETS ((dept_id, position), (position, gender), ());

-- ì¡°í•© ì—´  
SELECT dept_id, gender, position, SUM(salary)  
FROM y_emp  
GROUP BY ROLLUP(dept_id, (gender, position));
```
## ğŸ”— ê´€ë ¨ ë¬¸ì„œ
- [[ğŸ“ 2.1_ê¸°ë³¸_SELECT_ë¬¸]]
- [[ğŸ“ 3.1_ë‹¨ì¼í–‰_í•¨ìˆ˜]]
- [[ğŸ“ 4.1_ì¡°ì¸_ê°œë…ê³¼_ì¢…ë¥˜]]
- [[ğŸ“ ì´ì •ë¦¬]]
